{
  "openapi": "3.0.1",
  "info": {
    "title": "GigGossipSettlerAPI",
    "version": "1.0"
  },
  "paths": {
    "/getcapublickey": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Public key of this Certification Authority.",
        "description": "Public key of this Certification Authority that can be used to validate signatures of e.g. issued certificates.",
        "operationId": "GetCaPublicKey",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/iscertificaterevoked": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Is the certificate revoked by this Certification Authority.",
        "description": "Returns true if the certificate has been revoked, false otherwise. Usefull to implement revocation list.",
        "operationId": "IsCertificateRevoked",
        "parameters": [
          {
            "name": "certid",
            "in": "query",
            "description": "Serial number of the certificate.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanResult"
                }
              }
            }
          }
        }
      }
    },
    "/gettoken": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Creates authorisation token guid",
        "description": "Creates a new token Guid that is used for further communication with the API",
        "operationId": "GetToken",
        "parameters": [
          {
            "name": "pubkey",
            "in": "query",
            "description": "public key identifies the API user",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuidResult"
                }
              }
            }
          }
        }
      }
    },
    "/grantaccessrights": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Grants access rights to the subject.",
        "description": "Grants access rights to the subject. Only authorised users can grant the rights.",
        "operationId": "GrantAccessRights",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "accessRights",
            "in": "query",
            "description": "Access rights to be granted.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/revokeaccessrights": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Revokes access rights from the subject.",
        "description": "Revokes access rights from the subject. Only authorised users can revoke the rights.",
        "operationId": "RevokeAccessRights",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "accessRights",
            "in": "query",
            "description": "Access rights to be revoked.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/getaccessrights": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Gets access rights to the subject.",
        "description": "Gets access rights to the subject. Only authorised users can grant the rights.",
        "operationId": "GetAccessRights",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/addressautocomplete": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Autocompletes the address",
        "description": "Autocompletes the address.",
        "operationId": "AddressAutocomplete",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "Query",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "country",
            "in": "query",
            "description": "Country",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringArrayResult"
                }
              }
            }
          }
        }
      }
    },
    "/getroute": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Return route beetween two points",
        "description": "Return route beetween two points.",
        "operationId": "GetRoute",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "fromLat",
            "in": "query",
            "description": "Latitude of the first point",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          },
          {
            "name": "fromLon",
            "in": "query",
            "description": "Longitude of the first point",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          },
          {
            "name": "toLat",
            "in": "query",
            "description": "Latitude of the second point",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          },
          {
            "name": "toLon",
            "in": "query",
            "description": "Longitude of the second point",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteRetResult"
                }
              }
            }
          }
        }
      }
    },
    "/addressgeocode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Finds the geolocation of the address",
        "description": "Finds the geolocation of the address.",
        "operationId": "AddressGeocode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address",
            "in": "query",
            "description": "Address",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "country",
            "in": "query",
            "description": "Country",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeolocationRetResult"
                }
              }
            }
          }
        }
      }
    },
    "/locationgeocode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Finds the address of the location",
        "description": "Finds the address of the location.",
        "operationId": "LocationGeocode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lat",
            "in": "query",
            "description": "Lat",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          },
          {
            "name": "lon",
            "in": "query",
            "description": "Lon",
            "required": true,
            "style": "form",
            "schema": {
              "type": "number",
              "format": "double"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/issuenewaccesscode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Issuse new access code",
        "description": "Issuse new access code.",
        "operationId": "IssueNewAccessCode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "length",
            "in": "query",
            "description": "Required length of the access code",
            "required": true,
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "singleUse",
            "in": "query",
            "description": "Is Single Use",
            "required": true,
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "validTillMin",
            "in": "query",
            "description": "Valid till",
            "required": true,
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Memo",
            "in": "query",
            "description": "Memo",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/validateaccesscode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Validate access code",
        "description": "Validate access code.",
        "operationId": "ValidateAccessCode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "Access code identifier",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanResult"
                }
              }
            }
          }
        }
      }
    },
    "/revokeaccesscode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Revoke access code",
        "description": "Revoke access code.",
        "operationId": "RevokeAccessCode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "Access code identifier",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/getmemofromaccesscode": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Get Memo from access code",
        "description": "Get Memo from access code.",
        "operationId": "GetMemoFromAccessCode",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "Access code identifier",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/giveuserproperty": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Grants a property to the subject.",
        "description": "Grants a property to the subject (e.g. driving licence). Only authorised users can grant the property.",
        "operationId": "GiveUserProperty",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Name of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "value",
            "in": "query",
            "description": "Public value of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "secret",
            "in": "query",
            "description": "Secret value of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "validHours",
            "in": "query",
            "description": "How long the property is valid in hours",
            "required": true,
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/giveuserfile/{authToken}/{pubkey}/{name}/{validHours}": {
      "post": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "operationId": "GiveUserFile",
        "parameters": [
          {
            "name": "authToken",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "validHours",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "secret",
                  "value"
                ],
                "type": "object",
                "properties": {
                  "value": {
                    "type": "string",
                    "format": "binary"
                  },
                  "secret": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "value": {
                  "style": "form"
                },
                "secret": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/revokeuserproperty": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "description": "Revokes a property from the subject (e.g. driving licence is taken by the police). Only authorised users can revoke the property.",
        "operationId": "RevokeUserPropertyAsync",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Name of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/saveusertraceproperty": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Saves a trace to the subject.",
        "description": "Saves a trace, Only authorised users can grant the property.",
        "operationId": "SaveUserTraceProperty",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Name of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "value",
            "in": "query",
            "description": "Public value of the property.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/verifychannel": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Start verification of specific channel.",
        "description": "Starts verification of specific channel.",
        "operationId": "VerifyChannel",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Channel name (phone,email,...)",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "method",
            "in": "query",
            "description": "Method (sms,call,message)",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "value",
            "in": "query",
            "description": "Value of Channel for the method (phone number, email address).",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/submitchannelsecret": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Submits the secret code for the channel.",
        "description": "Returns -1 if the secret is correct, otherwise the number of retires left is returned.",
        "operationId": "SubmitChannelSecret",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Channel name (phone,email,...)",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "method",
            "in": "query",
            "description": "Method (sms,call,message)",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "value",
            "in": "query",
            "description": "Value of Channel for the method (phone number, email address).",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "secret",
            "in": "query",
            "description": "Secret received from the channel.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Int32Result"
                }
              }
            }
          }
        }
      }
    },
    "/ischannelverified": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Checks if the specific channel is verified",
        "description": "Checks if the specific channel is verified",
        "operationId": "IsChannelVerified",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user excluding the Subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pubkey",
            "in": "query",
            "description": "Public key of the subject.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Channel name (phone,email,...)",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "value",
            "in": "query",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanResult"
                }
              }
            }
          }
        }
      }
    },
    "/generatereplypaymentpreimage": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Generates new reply payment preimage and returns its hash.",
        "description": "Generates new reply payment preimage for the lightning network HODL invoice. This preimage is secret as long as the gig-job referenced by gigId is not marked as settled. The method returns hash of this preimage.",
        "operationId": "GenerateReplyPaymentPreimage",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gigId",
            "in": "query",
            "description": "gig-job identifier",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "repliperPubKey",
            "in": "query",
            "description": "Public key of the replier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/generaterelatedpreimage": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Generates new payment preimage that is related to the given paymentHash and returns its hash..",
        "description": "Generates new reply payment preimage for the lightning network HODL invoice. Allows implementing payment chains. This preimage is secret as long as the gig-job referenced paymentHash is not marked as settled. The method returns hash of this preimage.",
        "operationId": "GenerateRelatedPreimage",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "paymentHash",
            "in": "query",
            "description": "Payment hash of related HODL invoice.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/validaterelatedpaymenthashes": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Validates if given paymentHashes were generated by the same settler for the same gig.",
        "description": "Validates if given paymentHashes were generated by the same settler for the same gig. Allows implementing payment chains. The method returns true if the condition is met, false otherwise.",
        "operationId": "ValidateRelatedPaymentHashes",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "paymentHash1",
            "in": "query",
            "description": "Payment hash of related HODL invoice.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "paymentHash2",
            "in": "query",
            "description": "Payment hash of related HODL invoice.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanResult"
                }
              }
            }
          }
        }
      }
    },
    "/revealpreimage": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Reveals payment preimage of the specific paymentHash",
        "description": "Reveals payment preimage for the settlement of lightning network HODL invoice. This preimage is secret as long as the gig-job referenced paymentHash is not marked as settled.",
        "operationId": "RevealPreimage",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "paymentHash",
            "in": "query",
            "description": "Payment hash of related HODL invoice.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/getgigstatus": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Gets status of the Gig and reveals symmetric key if available, that customer can use to decrypt the message from gig-worker.",
        "description": "Gets status of the Gig and reveals symmetric key if available, that customer can use to decrypt the message from gig-worker. This key is secret as long as the gig-job is not marked as accepted.",
        "operationId": "GetGigStatus",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "signedRequestPayloadId",
            "in": "query",
            "description": "Request Payload Id.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "repliperCertificateId",
            "in": "query",
            "description": "Replier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/generaterequestpayload/{authToken}/{properties}": {
      "post": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "operationId": "GenerateRequestPayload",
        "parameters": [
          {
            "name": "authToken",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "properties",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "serialisedTopic"
                ],
                "type": "object",
                "properties": {
                  "serialisedTopic": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "serialisedTopic": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/generatesettlementtrust/{authToken}/{properties}/{replyinvoice}": {
      "post": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "operationId": "GenerateSettlementTrust",
        "parameters": [
          {
            "name": "authToken",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "properties",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "replyinvoice",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "message",
                  "signedRequestPayloadSerialized"
                ],
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string",
                    "format": "binary"
                  },
                  "signedRequestPayloadSerialized": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "message": {
                  "style": "form"
                },
                "signedRequestPayloadSerialized": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/encryptobjectforcertificateid/{certificateId}": {
      "post": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "operationId": "EncryptObjectForCertificateId",
        "parameters": [
          {
            "name": "certificateId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "objectSerialized"
                ],
                "type": "object",
                "properties": {
                  "objectSerialized": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "objectSerialized": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StringResult"
                }
              }
            }
          }
        }
      }
    },
    "/managedispute": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Allows opening and closing disputes.",
        "description": "Allows opening and closing disputes. After opening, the dispute needs to be solved positively before the HODL invoice timeouts occure. Otherwise all the invoices and payments will be cancelled.",
        "operationId": "ManageDispute",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gigId",
            "in": "query",
            "description": "Gig-job identifier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "repliperCertificateId",
            "in": "query",
            "description": "CertificateId of the replier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "open",
            "in": "query",
            "description": "True to open/False to close dispute.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    },
    "/cancelgig": {
      "get": {
        "tags": [
          "GigGossipSettlerAPI"
        ],
        "summary": "Cancels existing gig",
        "description": "Allows cancelling existing gig. The gig can be cancelled only if the gig-job is not marked as settled.",
        "operationId": "CancelGig",
        "parameters": [
          {
            "name": "authToken",
            "in": "query",
            "description": "Authorisation token for the communication. This is a restricted call and authToken needs to be the token of the authorised user.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gigId",
            "in": "query",
            "description": "Gig-job identifier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "repliperCertificateId",
            "in": "query",
            "description": "CertificateId of the replier.",
            "required": true,
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BooleanResult": {
        "type": "object",
        "properties": {
          "value": {
            "type": "boolean"
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GeolocationRet": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "format": "double"
          },
          "lon": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "GeolocationRetResult": {
        "type": "object",
        "properties": {
          "value": {
            "$ref": "#/components/schemas/GeolocationRet"
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GuidResult": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "format": "uuid"
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Int32Result": {
        "type": "object",
        "properties": {
          "value": {
            "type": "integer",
            "format": "int32"
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Result": {
        "type": "object",
        "properties": {
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RouteRet": {
        "type": "object",
        "properties": {
          "distance": {
            "type": "number",
            "format": "double"
          },
          "duration": {
            "type": "number",
            "format": "double"
          },
          "geometry": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GeolocationRet"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RouteRetResult": {
        "type": "object",
        "properties": {
          "value": {
            "$ref": "#/components/schemas/RouteRet"
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "SettlerErrorCode": {
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7
        ],
        "type": "integer",
        "format": "int32"
      },
      "StringArrayResult": {
        "type": "object",
        "properties": {
          "value": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "StringResult": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "nullable": true
          },
          "errorCode": {
            "$ref": "#/components/schemas/SettlerErrorCode"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}